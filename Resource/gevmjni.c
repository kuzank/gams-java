/*  Java Native Interrface code generated by apiwrapper for GAMS Version 30.1.0
 *
 * GAMS - Loading mechanism for GAMS Expert-Level APIs
 *
 * Copyright (c) 2016-2020 GAMS Software GmbH <support@gams.com>
 * Copyright (c) 2016-2020 GAMS Development Corp. <support@gams.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */

#include <jni.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
/* #include <locale.h> */
#include <gevmcc.h>

/* at least for some JNI implementations, JNIEXPORT is not setup to
 * explicitly set visibility to default when using GNU compilers;
 * thus, we do this globally for all functions via this pragma
 *  (which is nicer than redefining JNIEXPORT)
 */
#ifdef __GNUC__
#pragma GCC visibility push(default)
#endif

typedef union foo { void *p; jlong i; } u64_t;

typedef char string255[256];
static char* sig_gevRegisterWriteCallback_lsw = NULL;
static char* sig_gevSwitchLogStat_lsw = NULL;
static char* methodname_gevRegisterWriteCallback_lsw = NULL;
static char* methodname_gevSwitchLogStat_lsw = NULL;
static char* classname_gevRegisterWriteCallback_lsw = NULL;
static char* classname_gevSwitchLogStat_lsw = NULL;
static char  ClassDotMethodName[512];
static int   ReturnName = 0;

static void printerr(const char *mess, const char*name)
{
   fprintf(stderr,"%s: %s\n",mess,name);
   exit(1);
}

static char* getMethodName_(const char* name)
{
    char *s;
    s = strrchr(name,'.');
    if (s==NULL)
        return NULL;
    ++s;
    return strdup(s);
}

static char* getClassName_(const char* name)
{
    char *s;
    char *t;
    t = strdup(name);
    s = strrchr(t,'.');
    if (s==NULL)
        return NULL;
    *s = '\0';
    return t;
}

static JavaVM *Cached_JVM = NULL;
JNIEXPORT jint JNICALL JNI_OnLoad(JavaVM *vm, void *reserved)
{
    Cached_JVM = vm;
    gevInitMutexes();
    return JNI_VERSION_1_2;
}

JNIEXPORT void JNICALL JNI_OnUnload(JavaVM *vm, void *reserved)
{
    gevFiniMutexes();
}

/* Prototypes */
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_GetReady(JNIEnv *env, jobject obj, jobjectArray msg);
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_GetReadyD(JNIEnv *env, jobject obj, jstring dirName, jobjectArray msg);
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_GetReadyL(JNIEnv *env, jobject obj, jstring libName, jobjectArray msg);
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_Create(JNIEnv *env, jobject obj, jobjectArray msg);
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_CreateD(JNIEnv *env, jobject obj, jstring dirName, jobjectArray msg);
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_CreateDD(JNIEnv *env, jobject obj, jstring dirName, jobjectArray msg);
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_CreateL(JNIEnv *env, jobject obj, jstring libName, jobjectArray msg);
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_Free(JNIEnv *env, jobject obj);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_RegisterWriteCallback(JNIEnv *env, jobject obj, jstring lsw, jboolean logenabled, jlong usrmem);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_CompleteEnvironment(JNIEnv *env, jobject obj, jlong palg, jlong ivec, jlong rvec, jlong svec);
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_InitEnvironmentLegacy(JNIEnv *env, jobject obj, jstring cntrfn);
JNIEXPORT jboolean JNICALL Java_com_gams_api_gevm_SwitchLogStat(JNIEnv *env, jobject obj, jint lo, jstring logfn, jboolean logappend, jstring statfn, jboolean statappend, jstring lsw, jlong usrmem, jlongArray lshandle);
JNIEXPORT jlong JNICALL Java_com_gams_api_gevm_GetLShandle(JNIEnv *env, jobject obj);
JNIEXPORT jboolean JNICALL Java_com_gams_api_gevm_RestoreLogStat(JNIEnv *env, jobject obj, jlongArray lshandle);
JNIEXPORT jboolean JNICALL Java_com_gams_api_gevm_RestoreLogStatRewrite(JNIEnv *env, jobject obj, jlongArray lshandle);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_Log(JNIEnv *env, jobject obj, jstring s);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_LogPChar(JNIEnv *env, jobject obj, jstring p);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_Stat(JNIEnv *env, jobject obj, jstring s);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatC(JNIEnv *env, jobject obj, jstring s);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatPChar(JNIEnv *env, jobject obj, jstring p);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatAudit(JNIEnv *env, jobject obj, jstring s);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatCon(JNIEnv *env, jobject obj);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatCoff(JNIEnv *env, jobject obj);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatEOF(JNIEnv *env, jobject obj);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatSysout(JNIEnv *env, jobject obj);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatAddE(JNIEnv *env, jobject obj, jint mi, jstring s);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatAddV(JNIEnv *env, jobject obj, jint mj, jstring s);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatAddJ(JNIEnv *env, jobject obj, jint mi, jint mj, jstring s);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatEject(JNIEnv *env, jobject obj);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatEdit(JNIEnv *env, jobject obj, jbyte C);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatE(JNIEnv *env, jobject obj, jstring s, jint mi, jstring s2);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatV(JNIEnv *env, jobject obj, jstring s, jint mj, jstring s2);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatT(JNIEnv *env, jobject obj);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatA(JNIEnv *env, jobject obj, jstring s);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatB(JNIEnv *env, jobject obj, jstring s);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_LogStat(JNIEnv *env, jobject obj, jstring s);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_LogStatNoC(JNIEnv *env, jobject obj, jstring s);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_LogStatPChar(JNIEnv *env, jobject obj, jstring p);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_LogStatFlush(JNIEnv *env, jobject obj);
JNIEXPORT jstring JNICALL Java_com_gams_api_gevm_GetAnchor(JNIEnv *env, jobject obj, jstring s, jobjectArray sst_result);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_LSTAnchor(JNIEnv *env, jobject obj, jstring s);
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_StatAppend(JNIEnv *env, jobject obj, jstring statfn, jobjectArray msg);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_MIPReport(JNIEnv *env, jobject obj, jlong gmoptr, jdouble fixobj, jint fixiter, jdouble agap, jdouble rgap);
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_GetSlvExeInfo(JNIEnv *env, jobject obj, jstring solvername, jobjectArray exename);
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_GetSlvLibInfo(JNIEnv *env, jobject obj, jstring solvername, jobjectArray libname, jobjectArray prefix, jintArray ifversion);
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_CapabilityCheck(JNIEnv *env, jobject obj, jint modeltype, jstring solvername, jbooleanArray capable);
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_SolverVisibility(JNIEnv *env, jobject obj, jstring solvername, jbooleanArray hidden, jbooleanArray defaultok);
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_NumSolvers(JNIEnv *env, jobject obj);
JNIEXPORT jstring JNICALL Java_com_gams_api_gevm_GetSolver(JNIEnv *env, jobject obj, jint modeltype, jobjectArray sst_result);
JNIEXPORT jstring JNICALL Java_com_gams_api_gevm_GetCurrentSolver(JNIEnv *env, jobject obj, jlong gmoptr, jobjectArray sst_result);
JNIEXPORT jstring JNICALL Java_com_gams_api_gevm_GetSolverDefault(JNIEnv *env, jobject obj, jint modeltype, jobjectArray sst_result);
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_Solver2Id(JNIEnv *env, jobject obj, jstring solvername);
JNIEXPORT jstring JNICALL Java_com_gams_api_gevm_Id2Solver(JNIEnv *env, jobject obj, jint solverid, jobjectArray sst_result);
JNIEXPORT jstring JNICALL Java_com_gams_api_gevm_CallSolverNextGridDir(JNIEnv *env, jobject obj, jobjectArray sst_result);
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_CallSolver(JNIEnv *env, jobject obj, jlong gmoptr, jstring cntrfn, jstring solvername, jint solvelink, jint Logging, jstring logfn, jstring statfn, jdouble reslim, jint iterlim, jint domlim, jdouble optcr, jdouble optca, jlongArray jobhandle, jobjectArray msg);
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_CallSolverHandleStatus(JNIEnv *env, jobject obj, jlong jobhandle);
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_CallSolverHandleDelete(JNIEnv *env, jobject obj, jlongArray jobhandle);
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_CallSolverHandleCollect(JNIEnv *env, jobject obj, jlongArray jobhandle, jlong gmoptr);
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_GetIntOpt(JNIEnv *env, jobject obj, jstring optname);
JNIEXPORT jdouble JNICALL Java_com_gams_api_gevm_GetDblOpt(JNIEnv *env, jobject obj, jstring optname);
JNIEXPORT jstring JNICALL Java_com_gams_api_gevm_GetStrOpt(JNIEnv *env, jobject obj, jstring optname, jobjectArray sst_result);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_SetIntOpt(JNIEnv *env, jobject obj, jstring optname, jint ival);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_SetDblOpt(JNIEnv *env, jobject obj, jstring optname, jdouble rval);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_SetStrOpt(JNIEnv *env, jobject obj, jstring optname, jstring sval);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_SynchronizeOpt(JNIEnv *env, jobject obj, jlong optptr);
JNIEXPORT jdouble JNICALL Java_com_gams_api_gevm_TimeJNow(JNIEnv *env, jobject obj);
JNIEXPORT jdouble JNICALL Java_com_gams_api_gevm_TimeDiff(JNIEnv *env, jobject obj);
JNIEXPORT jdouble JNICALL Java_com_gams_api_gevm_TimeDiffStart(JNIEnv *env, jobject obj);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_TimeSetStart(JNIEnv *env, jobject obj);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_TerminateUninstall(JNIEnv *env, jobject obj);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_TerminateInstall(JNIEnv *env, jobject obj);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_TerminateSet(JNIEnv *env, jobject obj, jlong intr, jlong ehdler);
JNIEXPORT jboolean JNICALL Java_com_gams_api_gevm_TerminateGet(JNIEnv *env, jobject obj);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_TerminateClear(JNIEnv *env, jobject obj);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_TerminateRaise(JNIEnv *env, jobject obj);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_TerminateGetHandler(JNIEnv *env, jobject obj, jlongArray intr, jlongArray ehdler);
JNIEXPORT jstring JNICALL Java_com_gams_api_gevm_GetScratchName(JNIEnv *env, jobject obj, jstring s, jobjectArray sst_result);
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_WriteModelInstance(JNIEnv *env, jobject obj, jstring mifn, jlong gmoptr, jintArray nlcodelen);
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_DuplicateScratchDir(JNIEnv *env, jobject obj, jstring scrdir, jstring logfn, jobjectArray cntrfn);
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_InitJacLegacy(JNIEnv *env, jobject obj, jlongArray evalptr, jlong gmoptr);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_SetColRowPermLegacy(JNIEnv *env, jobject obj, jlong evalptr, jint n, jintArray cgms2slv, jint m, jintArray rgms2slv);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_SetJacPermLegacy(JNIEnv *env, jobject obj, jlong evalptr, jint njacs, jintArray jacs, jintArray jgms2slv);
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_EvalNewPointLegacy(JNIEnv *env, jobject obj, jlong evalptr, jdoubleArray x);
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_EvalJacLegacy(JNIEnv *env, jobject obj, jlong evalptr, jint si, jdoubleArray x, jdoubleArray f, jdoubleArray jac, jintArray domviol, jintArray njacsupd);
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_EvalJacLegacyX(JNIEnv *env, jobject obj, jlong evalptr, jint cnt, jintArray rowidx, jdoubleArray x, jdoubleArray fvec, jdoubleArray jac, jintArray domviol, jintArray njacsupd);
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_NextNLLegacy(JNIEnv *env, jobject obj, jlong evalptr, jint si);
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_RowGms2SlvLegacy(JNIEnv *env, jobject obj, jlong evalptr, jint si);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_FreeJacLegacy(JNIEnv *env, jobject obj, jlongArray evalptr);
JNIEXPORT jlong JNICALL Java_com_gams_api_gevm_GetALGX(JNIEnv *env, jobject obj);
JNIEXPORT void JNICALL Java_com_gams_api_gevm_SkipIOLegacySet(JNIEnv *env, jobject obj, jboolean x);
JNIEXPORT jint JNICALL Java_com_gams_api_gevm_Threads(JNIEnv *env, jobject obj);
JNIEXPORT jdouble JNICALL Java_com_gams_api_gevm_NSolves(JNIEnv *env, jobject obj);

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_GetReady(JNIEnv *env, jobject obj, jobjectArray msg)
{
   int rc_GetReady;
   jstring local_msg;
   char buffer_msg[256];
   rc_GetReady = gevGetReady(buffer_msg, sizeof(buffer_msg));
   local_msg = (*env)->NewStringUTF(env, buffer_msg);
   (*env)->SetObjectArrayElement(env, msg, 0, local_msg);
   return rc_GetReady;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_GetReadyD(JNIEnv *env, jobject obj, jstring dirName, jobjectArray msg)
{
   int rc_GetReadyD;
   char *local_dirName;
   jstring local_msg;
   char buffer_msg[256];
   buffer_msg[0] = '\0';
   local_dirName = (char *) (*env)->GetStringUTFChars(env, dirName, NULL);
   rc_GetReadyD = gevGetReadyD(local_dirName, buffer_msg, sizeof(buffer_msg));
   (*env)->ReleaseStringUTFChars(env, dirName, local_dirName);
   local_msg = (*env)->NewStringUTF(env, buffer_msg);
   (*env)->SetObjectArrayElement(env, msg, 0, local_msg);
   return rc_GetReadyD;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_GetReadyL(JNIEnv *env, jobject obj, jstring libName, jobjectArray msg)
{
   int rc_GetReadyL;
   char *local_libName;
   jstring local_msg;
   char buffer_msg[256];
   buffer_msg[0] = '\0';
   local_libName = (char *) (*env)->GetStringUTFChars(env, libName, NULL);
   rc_GetReadyL = gevGetReadyL(local_libName, buffer_msg, sizeof(buffer_msg));
   (*env)->ReleaseStringUTFChars(env, libName, local_libName);
   local_msg = (*env)->NewStringUTF(env, buffer_msg);
   (*env)->SetObjectArrayElement(env, msg, 0, local_msg);
   return rc_GetReadyL;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_Create(JNIEnv *env, jobject obj, jobjectArray msg)
{
   int rc_Create;
   jfieldID fid;
   u64_t pgev;
   jstring local_msg;
   char buffer_msg[256];
   jclass cls = (*env)->GetObjectClass(env, obj);
   buffer_msg[0] = '\0';
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   rc_Create = gevCreate((gevHandle_t *)&pgev.p, buffer_msg, sizeof(buffer_msg));
   local_msg = (*env)->NewStringUTF(env, buffer_msg);
   (*env)->SetObjectArrayElement(env, msg, 0, local_msg);
   (*env)->SetLongField(env, obj, fid, pgev.i);
   return rc_Create;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_CreateD(JNIEnv *env, jobject obj, jstring dirName, jobjectArray msg)
{
   int rc_CreateD;
   jfieldID fid;
   u64_t pgev;
   char *local_dirName;
   jstring local_msg;
   char buffer_msg[256];
   jclass cls = (*env)->GetObjectClass(env, obj);
   buffer_msg[0] = '\0';
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_dirName = (char *) (*env)->GetStringUTFChars(env, dirName, NULL);
   rc_CreateD = gevCreateD((gevHandle_t *)&pgev.p, local_dirName, buffer_msg, sizeof(buffer_msg));
   (*env)->ReleaseStringUTFChars(env, dirName, local_dirName);
   local_msg = (*env)->NewStringUTF(env, buffer_msg);
   (*env)->SetObjectArrayElement(env, msg, 0, local_msg);
   (*env)->SetLongField(env, obj, fid, pgev.i);
   return rc_CreateD;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_CreateDD(JNIEnv *env, jobject obj, jstring dirName, jobjectArray msg)
{
   int rc_CreateDD;
   jfieldID fid;
   u64_t pgev;
   char *local_dirName;
   jstring local_msg;
   char buffer_msg[256];
   jclass cls = (*env)->GetObjectClass(env, obj);
   buffer_msg[0] = '\0';
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_dirName = (char *) (*env)->GetStringUTFChars(env, dirName, NULL);
   rc_CreateDD = gevCreateDD((gevHandle_t *)&pgev.p, local_dirName, buffer_msg, sizeof(buffer_msg));
   (*env)->ReleaseStringUTFChars(env, dirName, local_dirName);
   local_msg = (*env)->NewStringUTF(env, buffer_msg);
   (*env)->SetObjectArrayElement(env, msg, 0, local_msg);
   (*env)->SetLongField(env, obj, fid, pgev.i);
   return rc_CreateDD;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_CreateL(JNIEnv *env, jobject obj, jstring libName, jobjectArray msg)
{
   int rc_CreateL;
   jfieldID fid;
   u64_t pgev;
   char *local_libName;
   jstring local_msg;
   char buffer_msg[256];
   jclass cls = (*env)->GetObjectClass(env, obj);
   buffer_msg[0] = '\0';
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_libName = (char *) (*env)->GetStringUTFChars(env, libName, NULL);
   rc_CreateL = gevCreateL((gevHandle_t *)&pgev.p, local_libName, buffer_msg, sizeof(buffer_msg));
   (*env)->ReleaseStringUTFChars(env, libName, local_libName);
   local_msg = (*env)->NewStringUTF(env, buffer_msg);
   (*env)->SetObjectArrayElement(env, msg, 0, local_msg);
   (*env)->SetLongField(env, obj, fid, pgev.i);
   return rc_CreateL;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_Free(JNIEnv *env, jobject obj)
{
   int rc_Free;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   rc_Free = gevFree((gevHandle_t *)&pgev.p);
   (*env)->SetLongField(env, obj, fid, pgev.i);
   return rc_Free;
}


static void  GEV_CALLCONV dll_gevRegisterWriteCallback_lsw(const char *msg, int mode, void *usrmem)
{
   JNIEnv *env;
   jclass cls;
   jmethodID mid;
   jstring local_msg;
   char buffer_msg[256];
   u64_t local_usrmem;
   (*Cached_JVM)->AttachCurrentThread(Cached_JVM, (void**)&env, NULL);
   if (methodname_gevRegisterWriteCallback_lsw==NULL)
      printerr("Callback function name is nil","lsw");
   if (classname_gevRegisterWriteCallback_lsw==NULL)
      printerr("Callback class name is nil","lsw");
   cls = (*env)->FindClass(env,classname_gevRegisterWriteCallback_lsw);
   if (cls==NULL)
      printerr("Class not found",classname_gevRegisterWriteCallback_lsw);
   mid = (*env)->GetStaticMethodID(env, cls, methodname_gevRegisterWriteCallback_lsw, sig_gevRegisterWriteCallback_lsw);
   if (mid==NULL)
      printerr("Static method not found",methodname_gevRegisterWriteCallback_lsw);
   if (ReturnName == 1) {
      sprintf(ClassDotMethodName,"%s.%s",classname_gevRegisterWriteCallback_lsw,methodname_gevRegisterWriteCallback_lsw);
      return; }
   strncpy(buffer_msg, msg+1, msg[0]); buffer_msg[(int)msg[0]]='\0';
   local_msg = (*env)->NewStringUTF(env, buffer_msg);
   local_usrmem.p = usrmem;
   (*env)->CallStaticVoidMethod(env, cls, mid, local_msg, mode, local_usrmem.i);
}

static void  GEV_CALLCONV dll_gevSwitchLogStat_lsw(const char *msg, int mode, void *usrmem)
{
   JNIEnv *env;
   jclass cls;
   jmethodID mid;
   jstring local_msg;
   char buffer_msg[256];
   u64_t local_usrmem;
   (*Cached_JVM)->AttachCurrentThread(Cached_JVM, (void**)&env, NULL);
   if (methodname_gevSwitchLogStat_lsw==NULL)
      printerr("Callback function name is nil","lsw");
   if (classname_gevSwitchLogStat_lsw==NULL)
      printerr("Callback class name is nil","lsw");
   cls = (*env)->FindClass(env,classname_gevSwitchLogStat_lsw);
   if (cls==NULL)
      printerr("Class not found",classname_gevSwitchLogStat_lsw);
   mid = (*env)->GetStaticMethodID(env, cls, methodname_gevSwitchLogStat_lsw, sig_gevSwitchLogStat_lsw);
   if (mid==NULL)
      printerr("Static method not found",methodname_gevSwitchLogStat_lsw);
   if (ReturnName == 1) {
      sprintf(ClassDotMethodName,"%s.%s",classname_gevSwitchLogStat_lsw,methodname_gevSwitchLogStat_lsw);
      return; }
   strncpy(buffer_msg, msg+1, msg[0]); buffer_msg[(int)msg[0]]='\0';
   local_msg = (*env)->NewStringUTF(env, buffer_msg);
   local_usrmem.p = usrmem;
   (*env)->CallStaticVoidMethod(env, cls, mid, local_msg, mode, local_usrmem.i);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_RegisterWriteCallback(JNIEnv *env, jobject obj, jstring lsw, jboolean logenabled, jlong usrmem)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_lsw;
   int   have_lsw = 0;
   Tgevlswrite_t ptr_lsw = NULL;
   u64_t local_usrmem;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   if(lsw != NULL)
   {
     local_lsw = (char *)(*env)->GetStringUTFChars(env, lsw, NULL);
     if(strcmp(local_lsw,""))
       have_lsw=1;
   }
   if(have_lsw)
   {
     local_lsw = (char *)(*env)->GetStringUTFChars(env, lsw, NULL);
     methodname_gevRegisterWriteCallback_lsw = getMethodName_(local_lsw);
     if(methodname_gevRegisterWriteCallback_lsw == NULL) printerr("Method name incomplete", local_lsw);
     classname_gevRegisterWriteCallback_lsw = getClassName_(local_lsw);
     if(classname_gevRegisterWriteCallback_lsw == NULL) printerr("Class name incomplete", local_lsw);
     sig_gevRegisterWriteCallback_lsw = "(Ljava/lang/String;IJ)V";
     ptr_lsw=dll_gevRegisterWriteCallback_lsw;
   }
   local_usrmem.i = usrmem;
   gevRegisterWriteCallback((gevHandle_t)pgev.p, ptr_lsw, logenabled, local_usrmem.p);
   if(lsw != NULL)
      (*env)->ReleaseStringUTFChars(env, lsw, local_lsw);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_CompleteEnvironment(JNIEnv *env, jobject obj, jlong palg, jlong ivec, jlong rvec, jlong svec)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_palg;
   u64_t local_ivec;
   u64_t local_rvec;
   u64_t local_svec;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_palg.i = palg;
   local_ivec.i = ivec;
   local_rvec.i = rvec;
   local_svec.i = svec;
   gevCompleteEnvironment((gevHandle_t)pgev.p, local_palg.p, local_ivec.p, local_rvec.p, local_svec.p);
}

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_InitEnvironmentLegacy(JNIEnv *env, jobject obj, jstring cntrfn)
{
   int rc_gevInitEnvironmentLegacy;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_cntrfn;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_cntrfn = (char *)(*env)->GetStringUTFChars(env, cntrfn, NULL);
   rc_gevInitEnvironmentLegacy = gevInitEnvironmentLegacy((gevHandle_t)pgev.p, local_cntrfn);
   (*env)->ReleaseStringUTFChars(env, cntrfn, local_cntrfn);
   return rc_gevInitEnvironmentLegacy;
}

JNIEXPORT jboolean JNICALL Java_com_gams_api_gevm_SwitchLogStat(JNIEnv *env, jobject obj, jint lo, jstring logfn, jboolean logappend, jstring statfn, jboolean statappend, jstring lsw, jlong usrmem, jlongArray lshandle)
{
   int rc_gevSwitchLogStat;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_logfn;
   char *local_statfn;
   char *local_lsw;
   int   have_lsw = 0;
   Tgevlswrite_t ptr_lsw = NULL;
   u64_t local_usrmem;
   jlong* local_lshandle;
   void** localCopy_lshandle;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_logfn = (char *)(*env)->GetStringUTFChars(env, logfn, NULL);
   local_statfn = (char *)(*env)->GetStringUTFChars(env, statfn, NULL);
   if(lsw != NULL)
   {
     local_lsw = (char *)(*env)->GetStringUTFChars(env, lsw, NULL);
     if(strcmp(local_lsw,""))
       have_lsw=1;
   }
   if(have_lsw)
   {
     local_lsw = (char *)(*env)->GetStringUTFChars(env, lsw, NULL);
     methodname_gevSwitchLogStat_lsw = getMethodName_(local_lsw);
     if(methodname_gevSwitchLogStat_lsw == NULL) printerr("Method name incomplete", local_lsw);
     classname_gevSwitchLogStat_lsw = getClassName_(local_lsw);
     if(classname_gevSwitchLogStat_lsw == NULL) printerr("Class name incomplete", local_lsw);
     sig_gevSwitchLogStat_lsw = "(Ljava/lang/String;IJ)V";
     ptr_lsw=dll_gevSwitchLogStat_lsw;
   }
   local_usrmem.i = usrmem;
   local_lshandle = (*env)->GetLongArrayElements(env, lshandle, NULL);
   if( sizeof(jlong) != sizeof(void*) ) {
     jsize localCount;
     u64_t blab;
     localCopy_lshandle = (void**)malloc(sizeof(void*) * (*env)->GetArrayLength(env, lshandle));
     for( localCount = 0; localCount < (*env)->GetArrayLength(env, lshandle); ++localCount ) {
       blab.i = local_lshandle[localCount];
       localCopy_lshandle[localCount] = blab.p;
       }
   } else
     localCopy_lshandle = (void**)local_lshandle;
   rc_gevSwitchLogStat = gevSwitchLogStat((gevHandle_t)pgev.p, lo, local_logfn, logappend, local_statfn, statappend, ptr_lsw, local_usrmem.p, localCopy_lshandle);
   (*env)->ReleaseStringUTFChars(env, logfn, local_logfn);
   (*env)->ReleaseStringUTFChars(env, statfn, local_statfn);
   if(lsw != NULL)
      (*env)->ReleaseStringUTFChars(env, lsw, local_lsw);
   (*env)->ReleaseLongArrayElements(env, lshandle, local_lshandle, 0);
   if( sizeof(jlong) != sizeof(void*) ) {
     jsize localCount;
     u64_t blub;
     for( localCount = 0; localCount < (*env)->GetArrayLength(env, lshandle); ++localCount ) {
       blub.i = 0; blub.p = localCopy_lshandle[localCount];
       (*env)->SetLongArrayRegion(env, lshandle, localCount, 1, &blub.i);
     }
     free(localCopy_lshandle);
   }
   return rc_gevSwitchLogStat;
}

JNIEXPORT jlong JNICALL Java_com_gams_api_gevm_GetLShandle(JNIEnv *env, jobject obj)
{
   u64_t rc_gevGetLShandle;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return (jlong) NULL;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   rc_gevGetLShandle.p = gevGetLShandle((gevHandle_t)pgev.p);
   return rc_gevGetLShandle.i;
}

JNIEXPORT jboolean JNICALL Java_com_gams_api_gevm_RestoreLogStat(JNIEnv *env, jobject obj, jlongArray lshandle)
{
   int rc_gevRestoreLogStat;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   jlong* local_lshandle;
   void** localCopy_lshandle;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_lshandle = (*env)->GetLongArrayElements(env, lshandle, NULL);
   if( sizeof(jlong) != sizeof(void*) ) {
     jsize localCount;
     u64_t blab;
     localCopy_lshandle = (void**)malloc(sizeof(void*) * (*env)->GetArrayLength(env, lshandle));
     for( localCount = 0; localCount < (*env)->GetArrayLength(env, lshandle); ++localCount ) {
       blab.i = local_lshandle[localCount];
       localCopy_lshandle[localCount] = blab.p;
       }
   } else
     localCopy_lshandle = (void**)local_lshandle;
   rc_gevRestoreLogStat = gevRestoreLogStat((gevHandle_t)pgev.p, localCopy_lshandle);
   (*env)->ReleaseLongArrayElements(env, lshandle, local_lshandle, 0);
   if( sizeof(jlong) != sizeof(void*) ) {
     jsize localCount;
     u64_t blub;
     for( localCount = 0; localCount < (*env)->GetArrayLength(env, lshandle); ++localCount ) {
       blub.i = 0; blub.p = localCopy_lshandle[localCount];
       (*env)->SetLongArrayRegion(env, lshandle, localCount, 1, &blub.i);
     }
     free(localCopy_lshandle);
   }
   return rc_gevRestoreLogStat;
}

JNIEXPORT jboolean JNICALL Java_com_gams_api_gevm_RestoreLogStatRewrite(JNIEnv *env, jobject obj, jlongArray lshandle)
{
   int rc_gevRestoreLogStatRewrite;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   jlong* local_lshandle;
   void** localCopy_lshandle;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_lshandle = (*env)->GetLongArrayElements(env, lshandle, NULL);
   if( sizeof(jlong) != sizeof(void*) ) {
     jsize localCount;
     u64_t blab;
     localCopy_lshandle = (void**)malloc(sizeof(void*) * (*env)->GetArrayLength(env, lshandle));
     for( localCount = 0; localCount < (*env)->GetArrayLength(env, lshandle); ++localCount ) {
       blab.i = local_lshandle[localCount];
       localCopy_lshandle[localCount] = blab.p;
       }
   } else
     localCopy_lshandle = (void**)local_lshandle;
   rc_gevRestoreLogStatRewrite = gevRestoreLogStatRewrite((gevHandle_t)pgev.p, localCopy_lshandle);
   (*env)->ReleaseLongArrayElements(env, lshandle, local_lshandle, 0);
   if( sizeof(jlong) != sizeof(void*) ) {
     jsize localCount;
     u64_t blub;
     for( localCount = 0; localCount < (*env)->GetArrayLength(env, lshandle); ++localCount ) {
       blub.i = 0; blub.p = localCopy_lshandle[localCount];
       (*env)->SetLongArrayRegion(env, lshandle, localCount, 1, &blub.i);
     }
     free(localCopy_lshandle);
   }
   return rc_gevRestoreLogStatRewrite;
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_Log(JNIEnv *env, jobject obj, jstring s)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_s;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_s = (char *)(*env)->GetStringUTFChars(env, s, NULL);
   gevLog((gevHandle_t)pgev.p, local_s);
   (*env)->ReleaseStringUTFChars(env, s, local_s);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_LogPChar(JNIEnv *env, jobject obj, jstring p)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_p;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_p = (char *)(*env)->GetStringUTFChars(env, p, NULL);
   gevLogPChar((gevHandle_t)pgev.p, local_p);
   (*env)->ReleaseStringUTFChars(env, p, local_p);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_Stat(JNIEnv *env, jobject obj, jstring s)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_s;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_s = (char *)(*env)->GetStringUTFChars(env, s, NULL);
   gevStat((gevHandle_t)pgev.p, local_s);
   (*env)->ReleaseStringUTFChars(env, s, local_s);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatC(JNIEnv *env, jobject obj, jstring s)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_s;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_s = (char *)(*env)->GetStringUTFChars(env, s, NULL);
   gevStatC((gevHandle_t)pgev.p, local_s);
   (*env)->ReleaseStringUTFChars(env, s, local_s);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatPChar(JNIEnv *env, jobject obj, jstring p)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_p;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_p = (char *)(*env)->GetStringUTFChars(env, p, NULL);
   gevStatPChar((gevHandle_t)pgev.p, local_p);
   (*env)->ReleaseStringUTFChars(env, p, local_p);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatAudit(JNIEnv *env, jobject obj, jstring s)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_s;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_s = (char *)(*env)->GetStringUTFChars(env, s, NULL);
   gevStatAudit((gevHandle_t)pgev.p, local_s);
   (*env)->ReleaseStringUTFChars(env, s, local_s);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatCon(JNIEnv *env, jobject obj)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   gevStatCon((gevHandle_t)pgev.p);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatCoff(JNIEnv *env, jobject obj)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   gevStatCoff((gevHandle_t)pgev.p);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatEOF(JNIEnv *env, jobject obj)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   gevStatEOF((gevHandle_t)pgev.p);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatSysout(JNIEnv *env, jobject obj)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   gevStatSysout((gevHandle_t)pgev.p);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatAddE(JNIEnv *env, jobject obj, jint mi, jstring s)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_s;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_s = (char *)(*env)->GetStringUTFChars(env, s, NULL);
   gevStatAddE((gevHandle_t)pgev.p, mi, local_s);
   (*env)->ReleaseStringUTFChars(env, s, local_s);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatAddV(JNIEnv *env, jobject obj, jint mj, jstring s)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_s;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_s = (char *)(*env)->GetStringUTFChars(env, s, NULL);
   gevStatAddV((gevHandle_t)pgev.p, mj, local_s);
   (*env)->ReleaseStringUTFChars(env, s, local_s);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatAddJ(JNIEnv *env, jobject obj, jint mi, jint mj, jstring s)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_s;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_s = (char *)(*env)->GetStringUTFChars(env, s, NULL);
   gevStatAddJ((gevHandle_t)pgev.p, mi, mj, local_s);
   (*env)->ReleaseStringUTFChars(env, s, local_s);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatEject(JNIEnv *env, jobject obj)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   gevStatEject((gevHandle_t)pgev.p);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatEdit(JNIEnv *env, jobject obj, jbyte C)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   gevStatEdit((gevHandle_t)pgev.p, C);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatE(JNIEnv *env, jobject obj, jstring s, jint mi, jstring s2)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_s;
   char *local_s2;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_s = (char *)(*env)->GetStringUTFChars(env, s, NULL);
   local_s2 = (char *)(*env)->GetStringUTFChars(env, s2, NULL);
   gevStatE((gevHandle_t)pgev.p, local_s, mi, local_s2);
   (*env)->ReleaseStringUTFChars(env, s, local_s);
   (*env)->ReleaseStringUTFChars(env, s2, local_s2);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatV(JNIEnv *env, jobject obj, jstring s, jint mj, jstring s2)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_s;
   char *local_s2;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_s = (char *)(*env)->GetStringUTFChars(env, s, NULL);
   local_s2 = (char *)(*env)->GetStringUTFChars(env, s2, NULL);
   gevStatV((gevHandle_t)pgev.p, local_s, mj, local_s2);
   (*env)->ReleaseStringUTFChars(env, s, local_s);
   (*env)->ReleaseStringUTFChars(env, s2, local_s2);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatT(JNIEnv *env, jobject obj)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   gevStatT((gevHandle_t)pgev.p);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatA(JNIEnv *env, jobject obj, jstring s)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_s;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_s = (char *)(*env)->GetStringUTFChars(env, s, NULL);
   gevStatA((gevHandle_t)pgev.p, local_s);
   (*env)->ReleaseStringUTFChars(env, s, local_s);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_StatB(JNIEnv *env, jobject obj, jstring s)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_s;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_s = (char *)(*env)->GetStringUTFChars(env, s, NULL);
   gevStatB((gevHandle_t)pgev.p, local_s);
   (*env)->ReleaseStringUTFChars(env, s, local_s);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_LogStat(JNIEnv *env, jobject obj, jstring s)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_s;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_s = (char *)(*env)->GetStringUTFChars(env, s, NULL);
   gevLogStat((gevHandle_t)pgev.p, local_s);
   (*env)->ReleaseStringUTFChars(env, s, local_s);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_LogStatNoC(JNIEnv *env, jobject obj, jstring s)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_s;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_s = (char *)(*env)->GetStringUTFChars(env, s, NULL);
   gevLogStatNoC((gevHandle_t)pgev.p, local_s);
   (*env)->ReleaseStringUTFChars(env, s, local_s);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_LogStatPChar(JNIEnv *env, jobject obj, jstring p)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_p;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_p = (char *)(*env)->GetStringUTFChars(env, p, NULL);
   gevLogStatPChar((gevHandle_t)pgev.p, local_p);
   (*env)->ReleaseStringUTFChars(env, p, local_p);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_LogStatFlush(JNIEnv *env, jobject obj)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   gevLogStatFlush((gevHandle_t)pgev.p);
}

JNIEXPORT jstring JNICALL Java_com_gams_api_gevm_GetAnchor(JNIEnv *env, jobject obj, jstring s, jobjectArray sst_result)
{
   char *rc_gevGetAnchor;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   jstring local_sst;
   char buffer_sst[256];
   char *local_s;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return NULL;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_s = (char *)(*env)->GetStringUTFChars(env, s, NULL);
   buffer_sst[0] = '\0';
   rc_gevGetAnchor = gevGetAnchor((gevHandle_t)pgev.p, local_s, buffer_sst);
   (*env)->ReleaseStringUTFChars(env, s, local_s);
   local_sst = (*env)->NewStringUTF(env, buffer_sst);
   (*env)->SetObjectArrayElement(env, sst_result, 0, local_sst);
   return (*env)->NewStringUTF(env, rc_gevGetAnchor);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_LSTAnchor(JNIEnv *env, jobject obj, jstring s)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_s;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_s = (char *)(*env)->GetStringUTFChars(env, s, NULL);
   gevLSTAnchor((gevHandle_t)pgev.p, local_s);
   (*env)->ReleaseStringUTFChars(env, s, local_s);
}

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_StatAppend(JNIEnv *env, jobject obj, jstring statfn, jobjectArray msg)
{
   int rc_gevStatAppend;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_statfn;
   jstring local_msg;
   char buffer_msg[256];
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_statfn = (char *)(*env)->GetStringUTFChars(env, statfn, NULL);
   buffer_msg[0] = '\0';
   rc_gevStatAppend = gevStatAppend((gevHandle_t)pgev.p, local_statfn, buffer_msg);
   (*env)->ReleaseStringUTFChars(env, statfn, local_statfn);
   local_msg = (*env)->NewStringUTF(env, buffer_msg);
   (*env)->SetObjectArrayElement(env, msg, 0, local_msg);
   return rc_gevStatAppend;
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_MIPReport(JNIEnv *env, jobject obj, jlong gmoptr, jdouble fixobj, jint fixiter, jdouble agap, jdouble rgap)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_gmoptr;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_gmoptr.i = gmoptr;
   gevMIPReport((gevHandle_t)pgev.p, local_gmoptr.p, fixobj, fixiter, agap, rgap);
}

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_GetSlvExeInfo(JNIEnv *env, jobject obj, jstring solvername, jobjectArray exename)
{
   int rc_gevGetSlvExeInfo;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_solvername;
   jstring local_exename;
   char buffer_exename[256];
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_solvername = (char *)(*env)->GetStringUTFChars(env, solvername, NULL);
   buffer_exename[0] = '\0';
   rc_gevGetSlvExeInfo = gevGetSlvExeInfo((gevHandle_t)pgev.p, local_solvername, buffer_exename);
   (*env)->ReleaseStringUTFChars(env, solvername, local_solvername);
   local_exename = (*env)->NewStringUTF(env, buffer_exename);
   (*env)->SetObjectArrayElement(env, exename, 0, local_exename);
   return rc_gevGetSlvExeInfo;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_GetSlvLibInfo(JNIEnv *env, jobject obj, jstring solvername, jobjectArray libname, jobjectArray prefix, jintArray ifversion)
{
   int rc_gevGetSlvLibInfo;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_solvername;
   jstring local_libname;
   char buffer_libname[256];
   jstring local_prefix;
   char buffer_prefix[256];
   int local_ifversion[1];
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_solvername = (char *)(*env)->GetStringUTFChars(env, solvername, NULL);
   buffer_libname[0] = '\0';
   buffer_prefix[0] = '\0';
   rc_gevGetSlvLibInfo = gevGetSlvLibInfo((gevHandle_t)pgev.p, local_solvername, buffer_libname, buffer_prefix, local_ifversion);
   (*env)->ReleaseStringUTFChars(env, solvername, local_solvername);
   local_libname = (*env)->NewStringUTF(env, buffer_libname);
   (*env)->SetObjectArrayElement(env, libname, 0, local_libname);
   local_prefix = (*env)->NewStringUTF(env, buffer_prefix);
   (*env)->SetObjectArrayElement(env, prefix, 0, local_prefix);
   (*env)->SetIntArrayRegion(env, ifversion, 0, 1, local_ifversion);
   return rc_gevGetSlvLibInfo;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_CapabilityCheck(JNIEnv *env, jobject obj, jint modeltype, jstring solvername, jbooleanArray capable)
{
   int rc_gevCapabilityCheck;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_solvername;
   jboolean *local_capable;
   int ib_capable = 0;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_solvername = (char *)(*env)->GetStringUTFChars(env, solvername, NULL);
   local_capable = (*env)->GetBooleanArrayElements(env, capable, NULL);
   if(local_capable[0]) ib_capable = 1;
   rc_gevCapabilityCheck = gevCapabilityCheck((gevHandle_t)pgev.p, modeltype, local_solvername, &ib_capable);
   (*env)->ReleaseStringUTFChars(env, solvername, local_solvername);
   if(ib_capable) local_capable[0] = JNI_TRUE; else local_capable[0] = JNI_FALSE;
   (*env)->ReleaseBooleanArrayElements(env, capable, local_capable, 0);
   return rc_gevCapabilityCheck;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_SolverVisibility(JNIEnv *env, jobject obj, jstring solvername, jbooleanArray hidden, jbooleanArray defaultok)
{
   int rc_gevSolverVisibility;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_solvername;
   jboolean *local_hidden;
   int ib_hidden = 0;
   jboolean *local_defaultok;
   int ib_defaultok = 0;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_solvername = (char *)(*env)->GetStringUTFChars(env, solvername, NULL);
   local_hidden = (*env)->GetBooleanArrayElements(env, hidden, NULL);
   if(local_hidden[0]) ib_hidden = 1;
   local_defaultok = (*env)->GetBooleanArrayElements(env, defaultok, NULL);
   if(local_defaultok[0]) ib_defaultok = 1;
   rc_gevSolverVisibility = gevSolverVisibility((gevHandle_t)pgev.p, local_solvername, &ib_hidden, &ib_defaultok);
   (*env)->ReleaseStringUTFChars(env, solvername, local_solvername);
   if(ib_hidden) local_hidden[0] = JNI_TRUE; else local_hidden[0] = JNI_FALSE;
   (*env)->ReleaseBooleanArrayElements(env, hidden, local_hidden, 0);
   if(ib_defaultok) local_defaultok[0] = JNI_TRUE; else local_defaultok[0] = JNI_FALSE;
   (*env)->ReleaseBooleanArrayElements(env, defaultok, local_defaultok, 0);
   return rc_gevSolverVisibility;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_NumSolvers(JNIEnv *env, jobject obj)
{
   int rc_gevNumSolvers;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   rc_gevNumSolvers = gevNumSolvers((gevHandle_t)pgev.p);
   return rc_gevNumSolvers;
}

JNIEXPORT jstring JNICALL Java_com_gams_api_gevm_GetSolver(JNIEnv *env, jobject obj, jint modeltype, jobjectArray sst_result)
{
   char *rc_gevGetSolver;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   jstring local_sst;
   char buffer_sst[256];
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return NULL;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   buffer_sst[0] = '\0';
   rc_gevGetSolver = gevGetSolver((gevHandle_t)pgev.p, modeltype, buffer_sst);
   local_sst = (*env)->NewStringUTF(env, buffer_sst);
   (*env)->SetObjectArrayElement(env, sst_result, 0, local_sst);
   return (*env)->NewStringUTF(env, rc_gevGetSolver);
}

JNIEXPORT jstring JNICALL Java_com_gams_api_gevm_GetCurrentSolver(JNIEnv *env, jobject obj, jlong gmoptr, jobjectArray sst_result)
{
   char *rc_gevGetCurrentSolver;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   jstring local_sst;
   char buffer_sst[256];
   u64_t local_gmoptr;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return NULL;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_gmoptr.i = gmoptr;
   buffer_sst[0] = '\0';
   rc_gevGetCurrentSolver = gevGetCurrentSolver((gevHandle_t)pgev.p, local_gmoptr.p, buffer_sst);
   local_sst = (*env)->NewStringUTF(env, buffer_sst);
   (*env)->SetObjectArrayElement(env, sst_result, 0, local_sst);
   return (*env)->NewStringUTF(env, rc_gevGetCurrentSolver);
}

JNIEXPORT jstring JNICALL Java_com_gams_api_gevm_GetSolverDefault(JNIEnv *env, jobject obj, jint modeltype, jobjectArray sst_result)
{
   char *rc_gevGetSolverDefault;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   jstring local_sst;
   char buffer_sst[256];
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return NULL;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   buffer_sst[0] = '\0';
   rc_gevGetSolverDefault = gevGetSolverDefault((gevHandle_t)pgev.p, modeltype, buffer_sst);
   local_sst = (*env)->NewStringUTF(env, buffer_sst);
   (*env)->SetObjectArrayElement(env, sst_result, 0, local_sst);
   return (*env)->NewStringUTF(env, rc_gevGetSolverDefault);
}

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_Solver2Id(JNIEnv *env, jobject obj, jstring solvername)
{
   int rc_gevSolver2Id;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_solvername;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_solvername = (char *)(*env)->GetStringUTFChars(env, solvername, NULL);
   rc_gevSolver2Id = gevSolver2Id((gevHandle_t)pgev.p, local_solvername);
   (*env)->ReleaseStringUTFChars(env, solvername, local_solvername);
   return rc_gevSolver2Id;
}

JNIEXPORT jstring JNICALL Java_com_gams_api_gevm_Id2Solver(JNIEnv *env, jobject obj, jint solverid, jobjectArray sst_result)
{
   char *rc_gevId2Solver;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   jstring local_sst;
   char buffer_sst[256];
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return NULL;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   buffer_sst[0] = '\0';
   rc_gevId2Solver = gevId2Solver((gevHandle_t)pgev.p, solverid, buffer_sst);
   local_sst = (*env)->NewStringUTF(env, buffer_sst);
   (*env)->SetObjectArrayElement(env, sst_result, 0, local_sst);
   return (*env)->NewStringUTF(env, rc_gevId2Solver);
}

JNIEXPORT jstring JNICALL Java_com_gams_api_gevm_CallSolverNextGridDir(JNIEnv *env, jobject obj, jobjectArray sst_result)
{
   char *rc_gevCallSolverNextGridDir;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   jstring local_sst;
   char buffer_sst[256];
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return NULL;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   buffer_sst[0] = '\0';
   rc_gevCallSolverNextGridDir = gevCallSolverNextGridDir((gevHandle_t)pgev.p, buffer_sst);
   local_sst = (*env)->NewStringUTF(env, buffer_sst);
   (*env)->SetObjectArrayElement(env, sst_result, 0, local_sst);
   return (*env)->NewStringUTF(env, rc_gevCallSolverNextGridDir);
}

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_CallSolver(JNIEnv *env, jobject obj, jlong gmoptr, jstring cntrfn, jstring solvername, jint solvelink, jint Logging, jstring logfn, jstring statfn, jdouble reslim, jint iterlim, jint domlim, jdouble optcr, jdouble optca, jlongArray jobhandle, jobjectArray msg)
{
   int rc_gevCallSolver;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_gmoptr;
   char *local_cntrfn;
   char *local_solvername;
   char *local_logfn;
   char *local_statfn;
   jlong* local_jobhandle;
   void** localCopy_jobhandle;
   jstring local_msg;
   char buffer_msg[256];
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_gmoptr.i = gmoptr;
   local_cntrfn = (char *)(*env)->GetStringUTFChars(env, cntrfn, NULL);
   local_solvername = (char *)(*env)->GetStringUTFChars(env, solvername, NULL);
   local_logfn = (char *)(*env)->GetStringUTFChars(env, logfn, NULL);
   local_statfn = (char *)(*env)->GetStringUTFChars(env, statfn, NULL);
   local_jobhandle = (*env)->GetLongArrayElements(env, jobhandle, NULL);
   if( sizeof(jlong) != sizeof(void*) ) {
     jsize localCount;
     u64_t blab;
     localCopy_jobhandle = (void**)malloc(sizeof(void*) * (*env)->GetArrayLength(env, jobhandle));
     for( localCount = 0; localCount < (*env)->GetArrayLength(env, jobhandle); ++localCount ) {
       blab.i = local_jobhandle[localCount];
       localCopy_jobhandle[localCount] = blab.p;
       }
   } else
     localCopy_jobhandle = (void**)local_jobhandle;
   buffer_msg[0] = '\0';
   rc_gevCallSolver = gevCallSolver((gevHandle_t)pgev.p, local_gmoptr.p, local_cntrfn, local_solvername, solvelink, Logging, local_logfn, local_statfn, reslim, iterlim, domlim, optcr, optca, localCopy_jobhandle, buffer_msg);
   (*env)->ReleaseStringUTFChars(env, cntrfn, local_cntrfn);
   (*env)->ReleaseStringUTFChars(env, solvername, local_solvername);
   (*env)->ReleaseStringUTFChars(env, logfn, local_logfn);
   (*env)->ReleaseStringUTFChars(env, statfn, local_statfn);
   (*env)->ReleaseLongArrayElements(env, jobhandle, local_jobhandle, 0);
   if( sizeof(jlong) != sizeof(void*) ) {
     jsize localCount;
     u64_t blub;
     for( localCount = 0; localCount < (*env)->GetArrayLength(env, jobhandle); ++localCount ) {
       blub.i = 0; blub.p = localCopy_jobhandle[localCount];
       (*env)->SetLongArrayRegion(env, jobhandle, localCount, 1, &blub.i);
     }
     free(localCopy_jobhandle);
   }
   local_msg = (*env)->NewStringUTF(env, buffer_msg);
   (*env)->SetObjectArrayElement(env, msg, 0, local_msg);
   return rc_gevCallSolver;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_CallSolverHandleStatus(JNIEnv *env, jobject obj, jlong jobhandle)
{
   int rc_gevCallSolverHandleStatus;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_jobhandle;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_jobhandle.i = jobhandle;
   rc_gevCallSolverHandleStatus = gevCallSolverHandleStatus((gevHandle_t)pgev.p, local_jobhandle.p);
   return rc_gevCallSolverHandleStatus;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_CallSolverHandleDelete(JNIEnv *env, jobject obj, jlongArray jobhandle)
{
   int rc_gevCallSolverHandleDelete;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   jlong* local_jobhandle;
   void** localCopy_jobhandle;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_jobhandle = (*env)->GetLongArrayElements(env, jobhandle, NULL);
   if( sizeof(jlong) != sizeof(void*) ) {
     jsize localCount;
     u64_t blab;
     localCopy_jobhandle = (void**)malloc(sizeof(void*) * (*env)->GetArrayLength(env, jobhandle));
     for( localCount = 0; localCount < (*env)->GetArrayLength(env, jobhandle); ++localCount ) {
       blab.i = local_jobhandle[localCount];
       localCopy_jobhandle[localCount] = blab.p;
       }
   } else
     localCopy_jobhandle = (void**)local_jobhandle;
   rc_gevCallSolverHandleDelete = gevCallSolverHandleDelete((gevHandle_t)pgev.p, localCopy_jobhandle);
   (*env)->ReleaseLongArrayElements(env, jobhandle, local_jobhandle, 0);
   if( sizeof(jlong) != sizeof(void*) ) {
     jsize localCount;
     u64_t blub;
     for( localCount = 0; localCount < (*env)->GetArrayLength(env, jobhandle); ++localCount ) {
       blub.i = 0; blub.p = localCopy_jobhandle[localCount];
       (*env)->SetLongArrayRegion(env, jobhandle, localCount, 1, &blub.i);
     }
     free(localCopy_jobhandle);
   }
   return rc_gevCallSolverHandleDelete;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_CallSolverHandleCollect(JNIEnv *env, jobject obj, jlongArray jobhandle, jlong gmoptr)
{
   int rc_gevCallSolverHandleCollect;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   jlong* local_jobhandle;
   void** localCopy_jobhandle;
   u64_t local_gmoptr;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_jobhandle = (*env)->GetLongArrayElements(env, jobhandle, NULL);
   if( sizeof(jlong) != sizeof(void*) ) {
     jsize localCount;
     u64_t blab;
     localCopy_jobhandle = (void**)malloc(sizeof(void*) * (*env)->GetArrayLength(env, jobhandle));
     for( localCount = 0; localCount < (*env)->GetArrayLength(env, jobhandle); ++localCount ) {
       blab.i = local_jobhandle[localCount];
       localCopy_jobhandle[localCount] = blab.p;
       }
   } else
     localCopy_jobhandle = (void**)local_jobhandle;
   local_gmoptr.i = gmoptr;
   rc_gevCallSolverHandleCollect = gevCallSolverHandleCollect((gevHandle_t)pgev.p, localCopy_jobhandle, local_gmoptr.p);
   (*env)->ReleaseLongArrayElements(env, jobhandle, local_jobhandle, 0);
   if( sizeof(jlong) != sizeof(void*) ) {
     jsize localCount;
     u64_t blub;
     for( localCount = 0; localCount < (*env)->GetArrayLength(env, jobhandle); ++localCount ) {
       blub.i = 0; blub.p = localCopy_jobhandle[localCount];
       (*env)->SetLongArrayRegion(env, jobhandle, localCount, 1, &blub.i);
     }
     free(localCopy_jobhandle);
   }
   return rc_gevCallSolverHandleCollect;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_GetIntOpt(JNIEnv *env, jobject obj, jstring optname)
{
   int rc_gevGetIntOpt;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_optname;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_optname = (char *)(*env)->GetStringUTFChars(env, optname, NULL);
   rc_gevGetIntOpt = gevGetIntOpt((gevHandle_t)pgev.p, local_optname);
   (*env)->ReleaseStringUTFChars(env, optname, local_optname);
   return rc_gevGetIntOpt;
}

JNIEXPORT jdouble JNICALL Java_com_gams_api_gevm_GetDblOpt(JNIEnv *env, jobject obj, jstring optname)
{
   double rc_gevGetDblOpt;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_optname;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0.0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_optname = (char *)(*env)->GetStringUTFChars(env, optname, NULL);
   rc_gevGetDblOpt = gevGetDblOpt((gevHandle_t)pgev.p, local_optname);
   (*env)->ReleaseStringUTFChars(env, optname, local_optname);
   return rc_gevGetDblOpt;
}

JNIEXPORT jstring JNICALL Java_com_gams_api_gevm_GetStrOpt(JNIEnv *env, jobject obj, jstring optname, jobjectArray sst_result)
{
   char *rc_gevGetStrOpt;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   jstring local_sst;
   char buffer_sst[256];
   char *local_optname;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return NULL;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_optname = (char *)(*env)->GetStringUTFChars(env, optname, NULL);
   buffer_sst[0] = '\0';
   rc_gevGetStrOpt = gevGetStrOpt((gevHandle_t)pgev.p, local_optname, buffer_sst);
   (*env)->ReleaseStringUTFChars(env, optname, local_optname);
   local_sst = (*env)->NewStringUTF(env, buffer_sst);
   (*env)->SetObjectArrayElement(env, sst_result, 0, local_sst);
   return (*env)->NewStringUTF(env, rc_gevGetStrOpt);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_SetIntOpt(JNIEnv *env, jobject obj, jstring optname, jint ival)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_optname;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_optname = (char *)(*env)->GetStringUTFChars(env, optname, NULL);
   gevSetIntOpt((gevHandle_t)pgev.p, local_optname, ival);
   (*env)->ReleaseStringUTFChars(env, optname, local_optname);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_SetDblOpt(JNIEnv *env, jobject obj, jstring optname, jdouble rval)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_optname;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_optname = (char *)(*env)->GetStringUTFChars(env, optname, NULL);
   gevSetDblOpt((gevHandle_t)pgev.p, local_optname, rval);
   (*env)->ReleaseStringUTFChars(env, optname, local_optname);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_SetStrOpt(JNIEnv *env, jobject obj, jstring optname, jstring sval)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_optname;
   char *local_sval;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_optname = (char *)(*env)->GetStringUTFChars(env, optname, NULL);
   local_sval = (char *)(*env)->GetStringUTFChars(env, sval, NULL);
   gevSetStrOpt((gevHandle_t)pgev.p, local_optname, local_sval);
   (*env)->ReleaseStringUTFChars(env, optname, local_optname);
   (*env)->ReleaseStringUTFChars(env, sval, local_sval);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_SynchronizeOpt(JNIEnv *env, jobject obj, jlong optptr)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_optptr;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_optptr.i = optptr;
   gevSynchronizeOpt((gevHandle_t)pgev.p, local_optptr.p);
}

JNIEXPORT jdouble JNICALL Java_com_gams_api_gevm_TimeJNow(JNIEnv *env, jobject obj)
{
   double rc_gevTimeJNow;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0.0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   rc_gevTimeJNow = gevTimeJNow((gevHandle_t)pgev.p);
   return rc_gevTimeJNow;
}

JNIEXPORT jdouble JNICALL Java_com_gams_api_gevm_TimeDiff(JNIEnv *env, jobject obj)
{
   double rc_gevTimeDiff;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0.0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   rc_gevTimeDiff = gevTimeDiff((gevHandle_t)pgev.p);
   return rc_gevTimeDiff;
}

JNIEXPORT jdouble JNICALL Java_com_gams_api_gevm_TimeDiffStart(JNIEnv *env, jobject obj)
{
   double rc_gevTimeDiffStart;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0.0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   rc_gevTimeDiffStart = gevTimeDiffStart((gevHandle_t)pgev.p);
   return rc_gevTimeDiffStart;
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_TimeSetStart(JNIEnv *env, jobject obj)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   gevTimeSetStart((gevHandle_t)pgev.p);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_TerminateUninstall(JNIEnv *env, jobject obj)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   gevTerminateUninstall((gevHandle_t)pgev.p);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_TerminateInstall(JNIEnv *env, jobject obj)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   gevTerminateInstall((gevHandle_t)pgev.p);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_TerminateSet(JNIEnv *env, jobject obj, jlong intr, jlong ehdler)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_intr;
   u64_t local_ehdler;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_intr.i = intr;
   local_ehdler.i = ehdler;
   gevTerminateSet((gevHandle_t)pgev.p, local_intr.p, local_ehdler.p);
}

JNIEXPORT jboolean JNICALL Java_com_gams_api_gevm_TerminateGet(JNIEnv *env, jobject obj)
{
   int rc_gevTerminateGet;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   rc_gevTerminateGet = gevTerminateGet((gevHandle_t)pgev.p);
   return rc_gevTerminateGet;
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_TerminateClear(JNIEnv *env, jobject obj)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   gevTerminateClear((gevHandle_t)pgev.p);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_TerminateRaise(JNIEnv *env, jobject obj)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   gevTerminateRaise((gevHandle_t)pgev.p);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_TerminateGetHandler(JNIEnv *env, jobject obj, jlongArray intr, jlongArray ehdler)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   jlong* local_intr;
   void** localCopy_intr;
   jlong* local_ehdler;
   void** localCopy_ehdler;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_intr = (*env)->GetLongArrayElements(env, intr, NULL);
   if( sizeof(jlong) != sizeof(void*) ) {
     jsize localCount;
     u64_t blab;
     localCopy_intr = (void**)malloc(sizeof(void*) * (*env)->GetArrayLength(env, intr));
     for( localCount = 0; localCount < (*env)->GetArrayLength(env, intr); ++localCount ) {
       blab.i = local_intr[localCount];
       localCopy_intr[localCount] = blab.p;
       }
   } else
     localCopy_intr = (void**)local_intr;
   local_ehdler = (*env)->GetLongArrayElements(env, ehdler, NULL);
   if( sizeof(jlong) != sizeof(void*) ) {
     jsize localCount;
     u64_t blab;
     localCopy_ehdler = (void**)malloc(sizeof(void*) * (*env)->GetArrayLength(env, ehdler));
     for( localCount = 0; localCount < (*env)->GetArrayLength(env, ehdler); ++localCount ) {
       blab.i = local_ehdler[localCount];
       localCopy_ehdler[localCount] = blab.p;
       }
   } else
     localCopy_ehdler = (void**)local_ehdler;
   gevTerminateGetHandler((gevHandle_t)pgev.p, localCopy_intr, localCopy_ehdler);
   (*env)->ReleaseLongArrayElements(env, intr, local_intr, 0);
   if( sizeof(jlong) != sizeof(void*) ) {
     jsize localCount;
     u64_t blub;
     for( localCount = 0; localCount < (*env)->GetArrayLength(env, intr); ++localCount ) {
       blub.i = 0; blub.p = localCopy_intr[localCount];
       (*env)->SetLongArrayRegion(env, intr, localCount, 1, &blub.i);
     }
     free(localCopy_intr);
   }
   (*env)->ReleaseLongArrayElements(env, ehdler, local_ehdler, 0);
   if( sizeof(jlong) != sizeof(void*) ) {
     jsize localCount;
     u64_t blub;
     for( localCount = 0; localCount < (*env)->GetArrayLength(env, ehdler); ++localCount ) {
       blub.i = 0; blub.p = localCopy_ehdler[localCount];
       (*env)->SetLongArrayRegion(env, ehdler, localCount, 1, &blub.i);
     }
     free(localCopy_ehdler);
   }
}

JNIEXPORT jstring JNICALL Java_com_gams_api_gevm_GetScratchName(JNIEnv *env, jobject obj, jstring s, jobjectArray sst_result)
{
   char *rc_gevGetScratchName;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   jstring local_sst;
   char buffer_sst[256];
   char *local_s;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return NULL;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_s = (char *)(*env)->GetStringUTFChars(env, s, NULL);
   buffer_sst[0] = '\0';
   rc_gevGetScratchName = gevGetScratchName((gevHandle_t)pgev.p, local_s, buffer_sst);
   (*env)->ReleaseStringUTFChars(env, s, local_s);
   local_sst = (*env)->NewStringUTF(env, buffer_sst);
   (*env)->SetObjectArrayElement(env, sst_result, 0, local_sst);
   return (*env)->NewStringUTF(env, rc_gevGetScratchName);
}

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_WriteModelInstance(JNIEnv *env, jobject obj, jstring mifn, jlong gmoptr, jintArray nlcodelen)
{
   int rc_gevWriteModelInstance;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_mifn;
   u64_t local_gmoptr;
   int *local_nlcodelen;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_mifn = (char *)(*env)->GetStringUTFChars(env, mifn, NULL);
   local_gmoptr.i = gmoptr;
   local_nlcodelen = (*env)->GetIntArrayElements(env, nlcodelen, NULL);
   rc_gevWriteModelInstance = gevWriteModelInstance((gevHandle_t)pgev.p, local_mifn, local_gmoptr.p, local_nlcodelen);
   (*env)->ReleaseStringUTFChars(env, mifn, local_mifn);
   (*env)->ReleaseIntArrayElements(env, nlcodelen, local_nlcodelen, 0);
   return rc_gevWriteModelInstance;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_DuplicateScratchDir(JNIEnv *env, jobject obj, jstring scrdir, jstring logfn, jobjectArray cntrfn)
{
   int rc_gevDuplicateScratchDir;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   char *local_scrdir;
   char *local_logfn;
   jstring local_cntrfn;
   char buffer_cntrfn[256];
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_scrdir = (char *)(*env)->GetStringUTFChars(env, scrdir, NULL);
   local_logfn = (char *)(*env)->GetStringUTFChars(env, logfn, NULL);
   buffer_cntrfn[0] = '\0';
   rc_gevDuplicateScratchDir = gevDuplicateScratchDir((gevHandle_t)pgev.p, local_scrdir, local_logfn, buffer_cntrfn);
   (*env)->ReleaseStringUTFChars(env, scrdir, local_scrdir);
   (*env)->ReleaseStringUTFChars(env, logfn, local_logfn);
   local_cntrfn = (*env)->NewStringUTF(env, buffer_cntrfn);
   (*env)->SetObjectArrayElement(env, cntrfn, 0, local_cntrfn);
   return rc_gevDuplicateScratchDir;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_InitJacLegacy(JNIEnv *env, jobject obj, jlongArray evalptr, jlong gmoptr)
{
   int rc_gevInitJacLegacy;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   jlong* local_evalptr;
   void** localCopy_evalptr;
   u64_t local_gmoptr;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_evalptr = (*env)->GetLongArrayElements(env, evalptr, NULL);
   if( sizeof(jlong) != sizeof(void*) ) {
     jsize localCount;
     u64_t blab;
     localCopy_evalptr = (void**)malloc(sizeof(void*) * (*env)->GetArrayLength(env, evalptr));
     for( localCount = 0; localCount < (*env)->GetArrayLength(env, evalptr); ++localCount ) {
       blab.i = local_evalptr[localCount];
       localCopy_evalptr[localCount] = blab.p;
       }
   } else
     localCopy_evalptr = (void**)local_evalptr;
   local_gmoptr.i = gmoptr;
   rc_gevInitJacLegacy = gevInitJacLegacy((gevHandle_t)pgev.p, localCopy_evalptr, local_gmoptr.p);
   (*env)->ReleaseLongArrayElements(env, evalptr, local_evalptr, 0);
   if( sizeof(jlong) != sizeof(void*) ) {
     jsize localCount;
     u64_t blub;
     for( localCount = 0; localCount < (*env)->GetArrayLength(env, evalptr); ++localCount ) {
       blub.i = 0; blub.p = localCopy_evalptr[localCount];
       (*env)->SetLongArrayRegion(env, evalptr, localCount, 1, &blub.i);
     }
     free(localCopy_evalptr);
   }
   return rc_gevInitJacLegacy;
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_SetColRowPermLegacy(JNIEnv *env, jobject obj, jlong evalptr, jint n, jintArray cgms2slv, jint m, jintArray rgms2slv)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_evalptr;
   int *local_cgms2slv;
   int *local_rgms2slv;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_evalptr.i = evalptr;
   local_cgms2slv = (*env)->GetIntArrayElements(env, cgms2slv, NULL);
   local_rgms2slv = (*env)->GetIntArrayElements(env, rgms2slv, NULL);
   gevSetColRowPermLegacy((gevHandle_t)pgev.p, local_evalptr.p, n, local_cgms2slv, m, local_rgms2slv);
   (*env)->ReleaseIntArrayElements(env, cgms2slv, local_cgms2slv, 0);
   (*env)->ReleaseIntArrayElements(env, rgms2slv, local_rgms2slv, 0);
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_SetJacPermLegacy(JNIEnv *env, jobject obj, jlong evalptr, jint njacs, jintArray jacs, jintArray jgms2slv)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_evalptr;
   int *local_jacs;
   int *local_jgms2slv;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_evalptr.i = evalptr;
   local_jacs = (*env)->GetIntArrayElements(env, jacs, NULL);
   local_jgms2slv = (*env)->GetIntArrayElements(env, jgms2slv, NULL);
   gevSetJacPermLegacy((gevHandle_t)pgev.p, local_evalptr.p, njacs, local_jacs, local_jgms2slv);
   (*env)->ReleaseIntArrayElements(env, jacs, local_jacs, 0);
   (*env)->ReleaseIntArrayElements(env, jgms2slv, local_jgms2slv, 0);
}

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_EvalNewPointLegacy(JNIEnv *env, jobject obj, jlong evalptr, jdoubleArray x)
{
   int rc_gevEvalNewPointLegacy;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_evalptr;
   double *local_x;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_evalptr.i = evalptr;
   local_x = (*env)->GetDoubleArrayElements(env, x, NULL);
   rc_gevEvalNewPointLegacy = gevEvalNewPointLegacy((gevHandle_t)pgev.p, local_evalptr.p, local_x);
   (*env)->ReleaseDoubleArrayElements(env, x, local_x, 0);
   return rc_gevEvalNewPointLegacy;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_EvalJacLegacy(JNIEnv *env, jobject obj, jlong evalptr, jint si, jdoubleArray x, jdoubleArray f, jdoubleArray jac, jintArray domviol, jintArray njacsupd)
{
   int rc_gevEvalJacLegacy;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_evalptr;
   double *local_x;
   double *local_f;
   double *local_jac;
   int *local_domviol;
   int *local_njacsupd;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_evalptr.i = evalptr;
   local_x = (*env)->GetDoubleArrayElements(env, x, NULL);
   local_f = (*env)->GetDoubleArrayElements(env, f, NULL);
   local_jac = (*env)->GetDoubleArrayElements(env, jac, NULL);
   local_domviol = (*env)->GetIntArrayElements(env, domviol, NULL);
   local_njacsupd = (*env)->GetIntArrayElements(env, njacsupd, NULL);
   rc_gevEvalJacLegacy = gevEvalJacLegacy((gevHandle_t)pgev.p, local_evalptr.p, si, local_x, local_f, local_jac, local_domviol, local_njacsupd);
   (*env)->ReleaseDoubleArrayElements(env, x, local_x, 0);
   (*env)->ReleaseDoubleArrayElements(env, f, local_f, 0);
   (*env)->ReleaseDoubleArrayElements(env, jac, local_jac, 0);
   (*env)->ReleaseIntArrayElements(env, domviol, local_domviol, 0);
   (*env)->ReleaseIntArrayElements(env, njacsupd, local_njacsupd, 0);
   return rc_gevEvalJacLegacy;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_EvalJacLegacyX(JNIEnv *env, jobject obj, jlong evalptr, jint cnt, jintArray rowidx, jdoubleArray x, jdoubleArray fvec, jdoubleArray jac, jintArray domviol, jintArray njacsupd)
{
   int rc_gevEvalJacLegacyX;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_evalptr;
   int *local_rowidx;
   double *local_x;
   double *local_fvec;
   double *local_jac;
   int *local_domviol;
   int *local_njacsupd;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_evalptr.i = evalptr;
   local_rowidx = (*env)->GetIntArrayElements(env, rowidx, NULL);
   local_x = (*env)->GetDoubleArrayElements(env, x, NULL);
   local_fvec = (*env)->GetDoubleArrayElements(env, fvec, NULL);
   local_jac = (*env)->GetDoubleArrayElements(env, jac, NULL);
   local_domviol = (*env)->GetIntArrayElements(env, domviol, NULL);
   local_njacsupd = (*env)->GetIntArrayElements(env, njacsupd, NULL);
   rc_gevEvalJacLegacyX = gevEvalJacLegacyX((gevHandle_t)pgev.p, local_evalptr.p, cnt, local_rowidx, local_x, local_fvec, local_jac, local_domviol, local_njacsupd);
   (*env)->ReleaseIntArrayElements(env, rowidx, local_rowidx, 0);
   (*env)->ReleaseDoubleArrayElements(env, x, local_x, 0);
   (*env)->ReleaseDoubleArrayElements(env, fvec, local_fvec, 0);
   (*env)->ReleaseDoubleArrayElements(env, jac, local_jac, 0);
   (*env)->ReleaseIntArrayElements(env, domviol, local_domviol, 0);
   (*env)->ReleaseIntArrayElements(env, njacsupd, local_njacsupd, 0);
   return rc_gevEvalJacLegacyX;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_NextNLLegacy(JNIEnv *env, jobject obj, jlong evalptr, jint si)
{
   int rc_gevNextNLLegacy;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_evalptr;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_evalptr.i = evalptr;
   rc_gevNextNLLegacy = gevNextNLLegacy((gevHandle_t)pgev.p, local_evalptr.p, si);
   return rc_gevNextNLLegacy;
}

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_RowGms2SlvLegacy(JNIEnv *env, jobject obj, jlong evalptr, jint si)
{
   int rc_gevRowGms2SlvLegacy;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   u64_t local_evalptr;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_evalptr.i = evalptr;
   rc_gevRowGms2SlvLegacy = gevRowGms2SlvLegacy((gevHandle_t)pgev.p, local_evalptr.p, si);
   return rc_gevRowGms2SlvLegacy;
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_FreeJacLegacy(JNIEnv *env, jobject obj, jlongArray evalptr)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   jlong* local_evalptr;
   void** localCopy_evalptr;
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return ;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   local_evalptr = (*env)->GetLongArrayElements(env, evalptr, NULL);
   if( sizeof(jlong) != sizeof(void*) ) {
     jsize localCount;
     u64_t blab;
     localCopy_evalptr = (void**)malloc(sizeof(void*) * (*env)->GetArrayLength(env, evalptr));
     for( localCount = 0; localCount < (*env)->GetArrayLength(env, evalptr); ++localCount ) {
       blab.i = local_evalptr[localCount];
       localCopy_evalptr[localCount] = blab.p;
       }
   } else
     localCopy_evalptr = (void**)local_evalptr;
   gevFreeJacLegacy((gevHandle_t)pgev.p, localCopy_evalptr);
   (*env)->ReleaseLongArrayElements(env, evalptr, local_evalptr, 0);
   if( sizeof(jlong) != sizeof(void*) ) {
     jsize localCount;
     u64_t blub;
     for( localCount = 0; localCount < (*env)->GetArrayLength(env, evalptr); ++localCount ) {
       blub.i = 0; blub.p = localCopy_evalptr[localCount];
       (*env)->SetLongArrayRegion(env, evalptr, localCount, 1, &blub.i);
     }
     free(localCopy_evalptr);
   }
}

JNIEXPORT jlong JNICALL Java_com_gams_api_gevm_GetALGX(JNIEnv *env, jobject obj)
{
   u64_t rc_gevGetALGX;
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return (jlong) NULL;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   rc_gevGetALGX.p = gevGetALGX((gevHandle_t)pgev.p);
   return rc_gevGetALGX.i;
}

JNIEXPORT void JNICALL Java_com_gams_api_gevm_SkipIOLegacySet(JNIEnv *env, jobject obj, jboolean x)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   gevSkipIOLegacySet((gevHandle_t)pgev.p, x);
}

JNIEXPORT jint JNICALL Java_com_gams_api_gevm_Threads(JNIEnv *env, jobject obj)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   return gevThreads((gevHandle_t)pgev.p);
}

JNIEXPORT jdouble JNICALL Java_com_gams_api_gevm_NSolves(JNIEnv *env, jobject obj)
{
   jfieldID fid;
   u64_t pgev;
   jclass cls = (*env)->GetObjectClass(env, obj);
   fid = (*env)->GetFieldID(env, cls, "gevPtr", "J");
   if (fid == NULL) return 0.0;
   pgev.i = (*env)->GetLongField(env, obj, fid);
   return gevNSolves((gevHandle_t)pgev.p);
}
